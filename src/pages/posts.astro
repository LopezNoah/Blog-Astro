---
import Navbar from "../components/Navbar.astro";
import BlogLayout from "../layouts/BlogLayout.astro";
import SiteMaster from "../layouts/SiteMaster.astro";

const {frontmatter} = Astro.props;

const posts = await Astro.glob('./posts/*.mdx');
console.log(posts[0].frontmatter);
Astro.response.headers.set('Cache-Control', 's-maxage=86400, stale-while-revalidate');
//<link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet" type="text/css"/>
---
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
  name="description"
  content="Mary's simple recipe for maple bacon donuts
           makes a sticky, sweet treat with just a hint
           of salt that you'll keep coming back for.">
    <meta name="generator" content={Astro.generator} />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin />

<!-- We use the full link to the CSS file in the rest of the tags -->
<link rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" />

<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap"
      media="print" onload="this.media='all'" />

<noscript>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" />
</noscript>
    <title>Solid Rock Astro</title>
    <style>
        .wrapper {
          display: grid;
          grid-template-columns:
            1fr
            min(65ch, 100%)
            1fr;
        }
        .wrapper > * {
          grid-column: 2;
        }
        .full-bleed {
          width: 100%;
          grid-column: 1 / 4;
        }
        .wrapper {
          font-family: "Merriweather", ui-sans-serif;
        }
      </style>
</head>
<body id="body">
    <div class="min-h-full">
        <Navbar/>
        <div id="content" class="px-2 sm:px-0 wrapper">
            {posts.map(post => 
                <a href={post.url} class="relative block group h-48 w-full my-6">
                <span class="absolute inset-0 border-2 border-black border-dashed"></span>
                <div class="relative flex items-end h-full transition-transform transform bg-white border-2 border-black group-hover:-translate-x-2 group-hover:-translate-y-2">
                    <div class="px-8 pb-8 transition-opacity group-hover:opacity-0 group-hover:absolute">
                        <div class="text-5xl" >{post.frontmatter.emoji}</div>
                        <h2 class="mt-4 text-2xl font-medium">{post.frontmatter.title}</h2>
                        </div>
        
                        <div class="absolute p-8 transition-opacity opacity-0 group-hover:opacity-100 group-hover:relative">
                        <h2 class="mt-4 text-2xl font-medium">{post.frontmatter.title}</h2>
        
                        <p class="mt-4">
                            {post.frontmatter.description}
                        </p>
                        <p class="mt-8 font-bold">Read more</p>
                    </div>
                </div>
                </a>
            )}
            </div>
    </div>
</body>
</html>